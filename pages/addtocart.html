<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <title>Product Details | Confy Chair</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900&family=Roboto&display=swap" rel="stylesheet">

  <!-- Custom CSS -->
  <style>
    body {
      font-family: 'Poppins', sans-serif;
    }

    .product-img {
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .product-details h3 {
      color: #333;
      font-weight: 600;
    }

    .product-details p {
      color: #666;
      font-size: 0.9rem;
    }

    .quantity-control {
      display: flex;
      align-items: center;
    }

    .quantity-control button {
      background-color: #f0f0f0;
      border: 1px solid #ccc;
      padding: 5px 10px;
      border-radius: 5px;
      margin: 0 10px;
      cursor: pointer;
    }

    .quantity-control button:hover {
      background-color: #ddd;
    }

    .quantity-control input {
      width: 50px;
      text-align: center;
      border: 1px solid #ccc;
      border-radius: 5px;
      padding: 5px;
    }

    .card-body {
      background-color: #f8f9fa;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .card-body h4 {
      color: #333;
      font-weight: 600;
    }

    .btn-primary {
      background-color: #007bff;
      border: none;
    }

    .btn-primary:hover {
      background-color: #0056b3;
    }

    .alert {
      margin-top: 20px;
      display: none;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="../index.html">Navbar</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="bootstrap.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">About Us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Blogs</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Contact Us</a>
          </li>
        </ul>
        <form class="d-flex">
          <button class="btn btn-warning text-white" type="button" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Register Now</button>
        </form>
      </div>
    </div>
  </nav>

  <!-- Main Container -->
  <div class="container mt-4">
    <div class="row">
      <!-- Product Details (Left Side) -->
      <div class="col-lg-8">
        <h2>Your Cart</h2>
        <div class="container mt-4">
          <div class="row">
            <div class="col-lg-3">
              <img src="../images/prod1.jpg" alt="Confy Chair" class="product-img" width="120px">
            </div>
            <div class="col-lg-9 product-details">
              <h3>Confy Chair</h3>
              <p><b>Price per unit: PKR 4000</b></p>
              <div class="quantity-control mt-3">
                <button id="decreaseQuantity">-</button>
                <input type="number" id="quantityInput" value="1" min="1">
                <button id="increaseQuantity">+</button>
              </div>
              <p class="mt-3"><b>Total Price: PKR <span id="totalPrice">4000</span></b></p>
              <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quos eius voluptatum cumque, dolorem non fugiat!</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Summary and Proceed (Right Side) -->
      <div class="col-lg-4">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">Summary</h4>
            <p class="card-text">Subtotal: <b>PKR <span id="summarySubtotal">4000</span></b></p>
            <p class="card-text text-danger">Discount: <b>-PKR <span id="summaryDiscount">0</span></b></p>
            <p class="card-text">Shipping: <b>PKR 200</b></p>
            <hr>
            <h5 class="card-text">Total: <b>PKR <span id="summaryTotal">4200</span></b></h5>
            <div class="mb-3">
              <label for="discountCode" class="form-label">Discount Code</label>
              <input type="text" class="form-control" id="discountCode" placeholder="Enter code">
            </div>
            <button class="btn btn-success w-100" type="button" id="applyDiscount">Apply Discount</button>
            <hr>
            <button class="btn btn-primary w-100" type="button"><a href="buynow.html" target="_blank" style="text-decoration: none; color: white;">Proceed to Checkout</a></button>
          </div>
        </div>

        <!-- Alert -->
        <div id="alertMessage" class="alert alert-danger" role="alert">
          Invalid discount code!
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXlGN6lfkVbVC5gZK9DkN4eC/wxrd1zwBjJJNTttgJtLZ5LZ9gPds5gf//sy" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGdY6EJOMEWm5l28+Y3eFfjvN+04f/OnGzO9rNAn1oF3d1ChF86dIT5HvbH" crossorigin="anonymous"></script>

  <!-- Custom JS -->
  <script>
    const quantityInput = document.getElementById('quantityInput');
    const decreaseQuantity = document.getElementById('decreaseQuantity');
    const increaseQuantity = document.getElementById('increaseQuantity');
    const totalPrice = document.getElementById('totalPrice');
    const summarySubtotal = document.getElementById('summarySubtotal');
    const summaryDiscount = document.getElementById('summaryDiscount');
    const summaryTotal = document.getElementById('summaryTotal');
    const discountCodeInput = document.getElementById('discountCode');
    const applyDiscountButton = document.getElementById('applyDiscount');
    const alertMessage = document.getElementById('alertMessage');

    const unitPrice = 4000;
    const shippingCost = 200;
    let discountApplied = false;
    let discountValue = 0;

    function updatePrices() {
      const quantity = parseInt(quantityInput.value);
      let subtotal = unitPrice * quantity;

      if (discountApplied) {
        discountValue = subtotal * 0.2; // 20% discount
      } else {
        discountValue = 0;
      }

      const discountedSubtotal = subtotal - discountValue;

      totalPrice.textContent = subtotal.toFixed(0);
      summarySubtotal.textContent = subtotal.toFixed(0);
      summaryDiscount.textContent = discountValue.toFixed(0);
      summaryTotal.textContent = (discountedSubtotal + shippingCost).toFixed(0);
    }

    decreaseQuantity.addEventListener('click', () => {
      if (quantityInput.value > 1) {
        quantityInput.value--;
        updatePrices();
      }
    });

    increaseQuantity.addEventListener('click', () => {
      quantityInput.value++;
      updatePrices();
    });

    quantityInput.addEventListener('input', () => {
      if (quantityInput.value < 1) {
        quantityInput.value = 1;
      }
      updatePrices();
    });

    applyDiscountButton.addEventListener('click', () => {
      const discountCode = discountCodeInput.value.trim();
      if (discountCode === 'XYZ20') {
        discountApplied = true;
        alertMessage.classList.remove('alert-danger');
        alertMessage.classList.add('alert-success');
        alertMessage.textContent = 'Discount applied successfully!';
      } else {
        discountApplied = false;
        alertMessage.classList.remove('alert-success');
        alertMessage.classList.add('alert-danger');
        alertMessage.textContent = 'Invalid discount code!';
      }

      alertMessage.style.display = 'block';
      updatePrices();
    });

    // Initialize prices on page load
    updatePrices();
  </script>
</body>
</html>
